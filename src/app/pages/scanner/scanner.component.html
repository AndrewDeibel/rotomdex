<div class="scanner">
  <!-- Webcam -->
  <div class="scanner-camera-wrapper" (click)="runScan()">
    <webcam
      [trigger]="triggerObservable"
      [allowCameraSwitch]="true"
      [switchCamera]="nextWebcamObservable"
      [videoOptions]="videoOptions"
      [imageQuality]="1"
      (imageCapture)="handleWebcamImage($event)"
      (initError)="handleWebcamInitError($event)"
    ></webcam>
  </div>

  <!-- Result -->
  <div
    *ngIf="visibleMatches.length && scannerResultMenu"
    class="scanner-result {{ showResult ? 'active' : '' }}"
  >
    <app-menu [menu]="scannerResultMenu"></app-menu>
  </div>

  <!-- Results -->
  <a
    [routerLink]="'/scanner/lists/1'"
    class="scanner-results-wrapper animated fadeInUp"
    *ngIf="visibleMatches.length > 0"
  >
    <div class="scanner-results">
      <div
        *ngFor="let card of visibleMatches"
        class="scanner-result animated zoomIn"
      >
        <img
          class="scanner-result-image"
          [src]="card.image"
          onerror="this.src='./assets/placeholder.jpg';"
        />
        <loader [active]="card.placeholder"></loader>
      </div>
      <div class="scanner-results-count">
        <span>{{ matches.length }}</span>
      </div>
    </div>
  </a>
</div>
